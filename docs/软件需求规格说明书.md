



目录
一、 引言	2
1.1 定位与目标	2
1.2 对象	2
1.3 软件需求分析目标	2
二、 需求概述	3
2.1 需求概述	3
2.2 系统结构图	3
三、 系统功能需求	4
3.1 功能总览	4
3.2 业务流程说明	6
3.3 数据流分析	9
3.4 数据字典	9
3.5 E-R图	9
四、 软件及外部系统接口需求	9
4.1 用户界面	9
4.1.1 UI 风格标准	9
4.1.2 界面响应式要求	9
4.1.3 交互体验要求	10
4.1.4 页面设计	10
4.2 硬件需求	14
4.2.1 客户端硬件	14
4.2.2 服务器硬件	14
4.3 运行环境	14
4.3.1 客户端运行环境	14
4.3.2 服务器运行环境	14
五、 可靠性与可用性需求	15
5.1 性能需求	15
5.1.1 处理能力	15
5.1.2 响应时间	15
5.1.3 稳定性要求	15
5.2 安全性需求	16
5.2.1 数据传输安全	16
5.2.2 用户认证安全	16
5.2.3 内容安全	16
5.3 可用性需求	16
5.3.1 易用性	16
5.3.2 可访问性	16
5.3.3 可维护性	16

一、 引言
1.1 定位与目标
本项目旨在数字化娱乐与个性化创作需求日益增长的背景下，开发一款集“拼图游戏”与“拼图编辑器”于一体的Web游戏应用，既能满足用户休闲娱乐需求，又能支持个性化创作与社交分享。本项目核心目标如下：
提供多样化游戏体验：涵盖系统预设关卡（像素风为主）、用户自定义关卡、多人比赛模式，支持不同难度（图块数量、形状、是否旋转）配置；
支持个性化创作：允许用户上传本地图片（自动裁剪处理）或通过 AI 生成风格化图片，自定义拼图参数（块数、形状）；
实现轻社交与竞技：包含排行榜（总排行、单关卡排行）、拼图分享、多人对战功能，增强用户互动性；
保障易用性与兼容性：界面采用游戏像素风格，支持桌面端主流浏览器与移动端自适应，操作流程直观，降低用户学习成本。
本系统可替代传统单机拼图游戏的局限性，通过Web端实现跨设备访问，同时整合“创作、游戏、分享、竞技”全流程，为用户提供一站式拼图娱乐创作平台。
1.2 对象
本《软件需求规格说明书》的预期读者是： 
项目开发组所有成员（前端、后端、设计、测试）；
项目负责人及校内指导老师；
测试人员（含功能测试、兼容性测试执行人员）；
SQA（软件质量保证）人员；
授权调阅本文档的校内老师或技术审核人员。
1.3 软件需求分析目标
1.功能描述完整性：全面描述 “拼图大师” 的所有核心功能（游戏、编辑、对战、分享、排行榜），明确各功能的触发条件、操作流程、输出结果，确保用户与开发团队对功能的理解一致；
2.提供开发基准：为软件设计（如前端组件划分、后端数据库结构）、测试用例设计（功能测试、性能测试）提供依据，确保设计与测试不偏离需求；
3.支持项目管理：为开发计划制定（如分阶段开发目标）、成本估算（如服务器资源、第三方接口费用）提供数据支撑；
4.满足可验证性：所有需求可验证（如“支持 Chrome等主流浏览器”可通过兼容性测试验证，避免“界面美观”“操作流畅” 等不可量化的描述。
二、 需求概述
2.1 需求概述
核心需求描述
1.游戏模式
1)单人游戏：支持系统预设关卡（由不同的风格筛选）、用户自定义关卡
2)多人对战：支持“创建房间/加入房间”（通过房间号匹配），双方准备就绪后同步开始，按完成时长 + 步数判定胜负；
3)图块操作：支持拖拽（吸附误差≤10px）、单击旋转（顺时针 90°）、撤销/重做
2.编辑功能	
1)图片来源：本地上传（JPG/PNG，≤5MB，可由用户选择按比例裁剪）、AI 生成(支持提示词)，如“像素风猫咪”“像素风校园建筑”）；
2)拼图配置：块数（支持16-64块，默认 16 块）、形状（常规矩形/不规则异形）、是否旋转（0=不旋转，1=随机旋转）；
3)预览与保存：配置实时预览（拆分效果、预计难度），支持保存为个人关卡或分享到“分享中心”
3.社交竞技
1)排行榜：总排行（按用户成功完成关卡次数排序）、单关卡排行（按完成时长→步数→完成时间排序，前端实时计算排名）；
2)分享功能：用户可分享自定义关卡，分享列表显示 “拼图缩略图、创作者、难度”，其他用户可直接加载游玩；
4.存档管理
1)登录用户存档存储于服务器，游客存档无存档，支持存档读取、删除、批量清理。
5.基础功能	
1)用户认证：支持用户名/邮箱注册（用户名 4-16 位，密码 8-20 位含大小写+数字+特殊符号），勾选“记住我”可保存账号 30 天；
6.音频控制
1)支持背景音乐（多种风格：轻松、治愈等）的播放/暂停、音量调节（0-100），按钮点击音效（如开始游戏、完成关卡）；
7.兼容性
1)支持 Chrome、Edge、Firefox等主流浏览器，移动端自适应（分辨率≥360×640）。
2.2 系统结构图


三、 系统功能需求
3.1 功能总览
表 3.1 功能总览
功能模块	功能名称	功能描述	触发条件
用户认证模块	账号注册	填写用户名（4-16位字母/数字/下划线，唯一）、邮箱（唯一）、密码（8-20 位，含大小写 + 数字 + 特殊符号），实时校验格式，注册成功生成 token	点击主界面“登录”→选择“注册”
提交符合规则的表单
	账号登录	支持 “用户名/邮箱” 二选一登录，连续 3 次密码错误锁定 10 分钟；勾选“记住我”，Cookie 保存账号 30 天	输入正确账号密码，或 Cookie 自动填充后点击 “登录”
单人游戏模块	关卡选择	按 “风格（自然风光 / 动物 / 像素风校园等）”筛选，点击“配置难度”进入难度配置，显示关卡缩略图、个人最佳成绩	主界面点击 “开始游戏”，进入关卡选择界面
	图块操作	1. 拖拽：长按图块拖动，吸附到正确位置（误差≤10px）；
2. 旋转：单击图块顺时针旋转 90°
3. 撤销/重做：恢复上一步/还原撤销操作，重做将拼图全部还原	进入游戏界面后，鼠标操作图块，点击“撤销/重做”按钮
	通关判定	实时检测所有图块是否“正确放置+旋转角度匹配”，通关后显示“总时长、总步数”，登录用户更新个人最佳成绩	所有图块正确放置且旋转角度匹配
编辑模块	图片上传与处理	上传本地图片（JPG/PNG，≤5MB），自动按比例裁剪（如 1:1等），支持手动调整裁剪区域	主界面点击 “创建拼图”→“上传图片”，选择本地文件
	AI 生成图片	输入像素风提示词（如图书馆），调用 AI 接口生成图片，支持重新生成	编辑界面点击 “AI 生成”，输入提示词后提交
	拼图配置	选择块数（16-64块）、形状（常规矩形/不规则异形）、是否旋转，实时预览拆分效果	上传/生成图片后，在编辑界面选择配置参数
对战模块	房间创建	生成6位房间号，显示“等待对手加入”;支持 “取消创建”，删除房间	主界面点击“对战中心”→“创建房间”
	房间加入	输入6 位房间号，验证存在且未开始后加入；显示 “等待房主准备”	对战中心点击 “加入房间”，输入正确房间号
	对战同步与判定	双方点击 “准备” 后，服务器同步发送开始信号；实时同步双方进度，先完成者获胜	双方均点击 “准备”，开始比赛；一方完成所有图块放置
分享与排行模块	排行榜展示	1. 总排行：按用户成功完成关卡次数排序；
2. 单关卡排行：按完成时长→步数→完成时间排序，标注 “我的排名”	主界面点击 “排行榜”展示总排行榜，点击每个系统预览关卡，难度配置页时，可查看单关卡排行榜
	拼图分享	1.保存自定义关卡时选择 “分享”，同步到分享中心，显示 “创作者、难度”
2. 到分享中心选择别人的分享关卡进入游戏	编辑界面点击 “保存并分享”，填写关卡名称后提交；到分享中心选择别人的分享关卡进入游戏
存档管理模块	存档管理	1. 保存存档：记录当前图块位置、时长、步数；
2. 读取存档：加载历史游戏状态；
3. 删除存档：单条删除或批量清理	游戏界面点击 “保存存档”
个人中心点击 “我的存档”→“继续游戏 / 删除”
游戏体验模块	背景音乐设置	1. 暂停和播放背景音乐
2  选择不同风格的背景音乐，系统设置默认背景音乐
3. 调节背景音乐音量	在各个界面，点击背景音乐风格设置，暂停音乐、继续音乐、音量调节触发
	操作指南	1.展示游戏规则，操作方法以及快捷键操作说明	在主菜单点击操作指南键显示悬浮窗，在主游戏界面左上角点击操作指南键，显示悬浮窗

3.2 业务流程说明
1.用户认证模块
1)入口触发​​：用户在主界面点击“登录”按钮跳转至认证界面。
2)​​登录流程​​：
用户输入用户名/邮箱和密码，勾选“记住我”（可选）。
系统验证账号有效性：
成功 → 生成Token存储至localStorage，返回主界面并更新菜单（显示用户功能入口）。
失败 → 提示错误原因（密码错误/账号锁定）。
3)注册流程​​：
用户点击“注册”按钮，填写用户名、邮箱、密码（实时校验格式）。
提交后系统检查唯一性并写入数据库长期存储：
通过 → 创建账号并自动登录。
失败 → 提示重复信息（如“用户名已存在”）。
4)​​异常处理​​：连续3次密码错误锁定账号10分钟，显示锁定提示。
2.单人游戏模块
1)​关卡选择​​：
主界面点击“开始游戏” → 进入关卡选择界面。
用户通过“风格”筛选关卡（多选），点击目标关卡卡片进入关卡配置。
2)​​关卡配置：
加载关卡图片及配置（块数/形状/旋转规则）。
拆分图块并随机打乱，初始化计时器和步数计数器。
3)​​游戏操作​​：
拖拽图块至底图区（误差≤10px自动吸附） → 步数+1。
单击图块旋转90°（无步数变化）。
支持“撤销/重做”操作（记录操作快照）。
4)​​通关判定​​：
实时检测所有图块位置与角度 → 全部匹配则弹出通关提示（显示时长/步数）。登录用户自动更新个人最佳成绩（若打破纪录）。
3.编辑模块
1)​​入口触发​​：主界面点击“创建拼图”进入编辑器。
2)​​图片源选择​​：
​​本地上传​​：选择JPG/PNG文件（≤5MB） → 先自动裁剪为1:1比例  →再由用户选择各种比例的裁剪框进行裁剪  →点击确认裁剪完成上传
​​AI生成​​：输入像素风提示词（如“像素风校园”） → 调用接口生成图片 → 支持重新生成。
3)​​拼图配置​​：
设置块数（16-64块）、形状（矩形/异形）、是否旋转。
实时预览拆分效果及难度评级。
4)​​保存与分享​​：
填写拼图名称 → 点击“保存” → 存储至“我的拼图”。
勾选“分享” → 同步至分享中心（显示创作者/难度标签）。
4.对战模块
1)房间创建​​：
用户点击“对战中心”→“创建房间” → 生成6位房间号。
系统显示“等待对手加入”，支持取消创建。
2)​​房间加入​​：
对手输入正确房间号 → 加入后双方状态显示“准备中”。
3)​​对战开始​​：
双方点击“准备” → 服务器同步发送开始信号（倒计时3秒）。
4)​​进度同步与判定​​：
实时同步双方图块放置进度（每完成一块同步一次）。
先完成者获胜 → 系统判定胜负（时长+步数综合）。
​​异常处理​​：断网重连后可恢复对战进度。
5.分享与排行榜模块
1)排行榜访问​​：
主界面点击“排行榜” → 按所有关卡完成次数给用户排序展示
关卡配置（系统预设关卡）页面，点击排行榜 → 加载Top20数据（按时长→步数→完成时间排序），标注用户个人排名。
点击 “刷新” 时，后端根据 “难度” 查询排行榜表，按 “时长升序→步数升序→完成时间升序” 排序，返回 TopN 数据。
前端缓存当前筛选条件的排行榜数据，30 分钟内重复加载不请求后端（避免高频查询），超时后自动刷新。
用户完成关卡后，后端对比该关卡的历史最佳成绩，若更优则更新排行榜表，前端弹窗提示后自动刷新排行榜数据
2)​​拼图分享​​：
编辑器中保存时勾选“分享” → 同步至分享中心。
用户点击分享中心分享卡片 → 加载该自定义关卡并开始游戏。
用户点击分享中心“我的分享”列表 → 点击分享卡片 → 选择进入游戏 
用户点击分享中心“我的分享”列表 → 点击分享卡片 → 选择取消分享 
6.存档管理模块
1)存档保存​​：
游戏界面点击“保存存档” → 记录当前图块位置、时长、步数。
登录用户存档同步至服务器
2)​​存档操作​​：
“我的拼图”界面点击“继续游戏” → 加载存档状态。
点击“删除” → 二次确认后移除存档（支持批量清理）。
7.游戏体验模块
1)​​音乐控制​​：
点击喇叭图标暂停/播放背景音乐
拖动音量滑块（0-100）实时调节音量。
下拉菜单切换音乐风格（轻松/治愈/复古等）。
2)​​操作指南​​：
点击“帮助”图标 → 弹出悬浮窗显示操作规则与快捷键说明。
3.3 数据流分析
顶层数据流图

子模式数据流图
1.用户认证模块
2.单人游戏模式

3.4 数据字典
3.5 E-R图

四、 软件及外部系统接口需求
4.1 用户界面
4.1.1 UI 风格标准
整体风格：像素风 
4.1.2 界面响应式要求
桌面端：支持分辨率 1024×768、1920×1080、2K，游戏界面图块大小随屏幕尺寸自适应（最小图块尺寸≥30px×30px）；
移动端：支持分辨率 360×640（手机）、768×1024（平板），自动调整布局（如关卡选择从网格布局改为列表布局，图块待选区从右侧改为底部）；
兼容性：支持 Chrome 90+、Edge 90+、Firefox 88+、Safari 14 + 浏览器，确保图块拖拽、旋转、对战同步功能正常。
4.1.3 交互体验要求
响应反馈：按钮点击有音效，图块选中有橙色边框提示，拖拽时有半透明阴影跟随；
加载提示：关卡加载、AI 图片生成时显示 “加载中...” 动画（像素风加载图标），加载失败显示 “加载失败，请重试” 并提供重试按钮；
错误提示：表单验证错误（如密码格式错误）显示红色文字（#F44336），位于输入框下方；操作错误（如加入不存在的房间）显示弹窗提示。
4.1.4 页面设计
(一)主界面（开始界面）
界面设计​​：
展示“拼图大师”logo，主菜单含“登陆”、“开始游戏”、“创建拼图”、“排行榜”、“我的拼图”、“分享中心”、“帮助中心”、“对战模式”
跳转逻辑：
游客模式：初始页面为游客模式，只显示“登陆”、“开始游戏”和“帮助中心”。点击“登陆”跳转到账号注册或登陆界面，提交用户信息表单验证通过后跳转回主界面，同时主界面变为“开始游戏”、“创建拼图”、“排行榜”、“我的存档”、“分享中心”、“帮助中心”、“对战模式”
(二)账号注册或登陆界面
界面设计：参考典型的网页登陆页面，如CSDN、Steam等
跳转逻辑：注册 / 登录成功后自动跳转回主界面，主界面同步更新菜单（隐藏 “登录”，显示 “创建拼图”“排行榜”“我的存档”、“分享中心”）；点击表单左上角 “返回” 按钮，跳转回主界面（游客模式）。
(三)关卡选择界面
界面设计：
顶部导航：左侧显示 “返回主界面” 按钮，中间为 “选择关卡” 标题。
筛选区域：上方为 “风格筛选”（自然风光、动物、建筑、卡通、画作等等）
关卡展示：下方为网格布局，展示卡片包含 “关卡缩略图、“关卡名称”（如 “自然风光 - 简单”） “最佳成绩”（登录用户显示自己该难度关卡的最佳时长和步数，未挑战该难度显示“未挑战该难度”，游客不显示）。最底部为“关卡配置”按钮，点击跳转到配置界面。
(四)我的拼图界面（存档管理/自定义拼图存档）
界面设计：
1.顶部操作栏：左侧 “返回主界面” 按钮，中间 “我的存档” 标题，右侧 “清理全部存档” 按钮（红色字体， hover 时显示确认提示）
2.存档列表：卡片式布局，每个卡片包含 “存档缩略图”、“存档信息”（存档名称、保存时间、当前时长、当前步数，）、“操作按钮”（“继续游戏”、“删除存档”，并排显示）。
3.空状态提示：无存档时，居中显示 “暂无游戏存档” 文字，“去开始游戏” 按钮，点击跳转到关卡选择界面。
UI逻辑说明：
1.存档删除：点击 “删除存档” 按钮，弹出确认弹窗（“确定删除该存档？删除后不可恢复”），点击“确认”后删除存档（从数据库移除），列表实时刷新；点击 “清理全部存档”，弹出二次确认弹窗，确认后删除所有存档。
(五)创建拼图界面（编辑器）
界面设计：
1.顶部导航：“返回主界面” 按钮、“创建自定义拼图” 标题、“保存拼图” 按钮（默认置灰，图片上传且配置完成后变亮）。
2.图片上传：页面左侧，灰色上传框（提示 “点击或拖拽图片上传”），上传后显示预览图（可裁剪）。
3.左侧拼图配置区：
1)块数设置：下拉选择（16块到64块不等，默认 16 块）
2)形状设置：单选按钮（“常规矩形”“不规则异形”，默认 “常规矩形”），选中 “不规则异形” 时显示形状预览图（如带凹凸边的图块）。
3)旋转翻转配置：提供是否随机旋转选项。
4)拼图名称：输入框（提示 “为你的拼图命名”，4-20 字符，必填）。
4.右侧预览区：上传图片且配置完成后，实时显示拼图拆分后的效果（按选择的块数 / 形状拆分，图块带轻微阴影），预览区下方显示“预计难度”（简单/中等/困难，根据块数自动判定）。
5.底部：“开始游戏”按钮，点击跳转到游戏界面；点击“保存拼图”，同时生成 “自定义关卡”，可在 “我的拼图”界面中可找到；选择“分享设计”，上传设计到分享中心
(六)关卡配置界面
界面设计：基本同创建拼图页面，但无图片上传区域，底部只有“开始游戏”
(七)分享界面
界面设计：
1.顶部导航：左侧 “返回主界面” 按钮，中间 “拼图分享中心” 标题，右侧 “我的分享” 按钮，点击切换至“我的分享列表”。
2.“发现分享” 标签页：
1)热门分享展示区：网格布局，卡片包含 “拼图缩略图”“拼图名称”“创作者用户名，“难度标签”，点击卡片直接加载该自定义拼图。
3.“我的分享列表” 标签页：
1)列表式布局，每行列包含 “拼图缩略图”、“拼图名称”、“创建时间”。
2)空状态提示：我的分享为空：显示 “暂无分享记录，去【创建拼图】生成分享吧！”，带 “去创建” 按钮。
其他说明
1.拼图加载：点击热门卡片后，跳转至游戏界面并按配置生成关卡。
2.分享管理：将“我的分享”列表中 点击卡片右键选择取消分享，则在分享模块中不再显示。
(八)游戏界面
界面设计：
1.顶部状态栏：
1)左侧：“返回关卡选择” 按钮（灰色，点击弹出确认提示 “确定退出？当前进度将丢失（未存档）”）、“保存存档” 按钮。
2)中间：“当前关卡名称”、“步数统计”、“时长统计”
3)右侧：“暂停 / 播放音乐” 图标（喇叭 / 静音符号）、“音量调节” 滑块（默认隐藏，点击音乐图标后显示，0-100 调节）、“音乐选择” 下拉框（默认显示当前音乐名称，展开后显示 5 种风格：轻松、治愈、欢快、舒缓、复古、“帮助” 图标（问号，点击显示操作指南悬浮窗。
2.中间游戏区：
1)左侧：拼图底图区域（白色背景，显示拼图轮廓框，尺寸根据屏幕自适应）
2)右侧：图块待选区（灰色背景，图块按随机顺序排列，每行数量根据图块大小自动调整，图块选中时显示橙色边框，拖拽时带半透明阴影）。
3)底部操作栏：“撤销” 按钮、“重做” 按钮
其他说明：
计时启动：页面加载完成后，若为新关卡/继续存档，立即启动计时器（暂停时停止计数，恢复时续接）。
游戏完成提供 “再玩一次”“返回关卡选择”按钮。
音乐控制逻辑：
1)暂停 / 播放：点击喇叭图标切换状态，暂停时图标变为 “静音符号”，音乐停止；播放时恢复喇叭图标。
2)音量调节：点击音乐图标后显示滑块，拖动实时调整音量（0-100）
3)音乐切换：下拉框选择风格后，立即停止当前音乐，加载对应风格的背景音乐（初始音乐根据关卡风格匹配，如 “自然风光” 关卡默认 “舒缓” 风格）。
(九)排行榜界面
界面设计：
1.顶部导航：左侧 “返回主界面” 按钮，中间 “拼图排行榜” 标题，右侧 “刷新” 图标（点击手动更新数据，加载时显示 “刷新中...”）。
2.难度筛选（单选按钮组，如“简单（16 块）”“中等（36 块）”“困难（64 块）”，默认 “简单”）。
3.排行榜列表区：
1)首行：登录用户个人成绩和排名，标注 “我”
2)表头：“排名”“玩家”“总时长”“总步数”“完成时间”；
3)列表项：前三名字体加粗 
(十)对战中心界面
​​界面设计：​​
1.顶部导航​​：
左侧："返回主界面"按钮；中间："对战中心"标题；右侧：用户头像+昵称（登录状态显示）
2.功能主区域​​：
创建房间板块​​：像素风格卡片背景；醒目"创建房间"按钮（像素化设计，悬停发光效果）
提示文字："创建专属房间，邀请好友对战"
加入房间板块​​：房间号输入框（6位数字，动态验证码样式）；"确认加入"按钮
其他说明；点击创建房间后，跳转至创建房间界面
(十一)创建房间界面
​​界面设计：​​
​​房间信息区​​（顶部居中）：
房间号显示：房间号：+6位数字（大号像素字体，可点击复制），对战模式标识
​​其他布局类似编辑器界面
(十二)房间主界面
界面设计：
其他设计类似游戏界面
底部"准备"按钮（默认状态）/ "取消准备"按钮
倒计时显示：双方准备后自动启动5秒后开始
说明：
倒计时结束后，立刻加载关卡信息
禁用"保存存档"功能（对战不支持中途存档）
禁用"音乐切换"功能（统一使用竞技主题BGM）
(十三)对战结果界面
​​界面设计：​​
​​胜负展示区​​（占屏70%）：
胜者：金色VICTORY!动态粒子特效 + 皇冠动画
败者：银色再接再厉!文字 + 鼓励图标
​​数据对比面板​​（表格布局）
底部"回到对战中心"
4.2 硬件需求
4.2.1 客户端硬件
桌面端：CPU≥Intel i3 或同等性能 AMD 处理器，内存≥4GB，显卡支持 WebGL 2.0（确保 Canvas 图块渲染流畅）；
移动端：CPU≥骁龙 660 或同等性能处理器，内存≥3GB，屏幕触控精度≤1px（确保图块拖拽准确）。
4.2.2 服务器硬件
应用服务器：CPU≥Intel Xeon E3，内存≥8GB，硬盘≥100GB（存储用户上传图片、系统素材），带宽≥10Mbps（支持 50 人同时对战，图片加载速度≤2 秒）；
数据库服务器：CPU≥Intel Xeon E3，内存≥16GB（Redis 缓存排行榜数据，减少数据库压力），硬盘≥200GB（MySQL 存储用户、关卡、存档数据）。
4.3 运行环境
4.3.1 客户端运行环境
浏览器：Chrome 90+、Edge 90+、Firefox 88+、Safari 14+，需启用 JavaScript、Cookie、localStorage；
插件支持：无需额外插件，AI 图片生成功能依赖浏览器支持 HTTPS（确保接口请求安全）。
4.3.2 服务器运行环境
操作系统：Linux（Ubuntu 20.04 LTS 或 CentOS 8）；
后端框架：Flask 2.0+（Python 3.8+），依赖库包括 Flask-SQLAlchemy（数据库连接）、PyJWT（token 生成）、requests（AI 接口请求）；
数据库：MySQL 8.0+（存储结构化数据）、Redis 6.0+（缓存排行榜 Top20 数据、热门分享数据，缓存有效期 30 分钟）；
第三方接口：AI 图片生成接口pollinations.ai，确保生成图片分辨率≥500×500 像素。
五、 可靠性与可用性需求
5.1 性能需求
5.1.1 处理能力
并发用户数：支持同时在线用户≥200 人，其中同时对战用户≥50 人（25 个房间），无明显卡顿（CPU 使用率≤70%，内存使用率≤80%）；
关卡加载速度：系统预设关卡加载时间≤2 秒，用户上传图片关卡加载时间≤3 秒（含图片裁剪、图块拆分），AI 生成图片关卡加载时间≤10 秒（含 AI 接口请求、图片处理）；
数据读写速度：存档保存 / 读取时间≤1 秒，排行榜数据加载时间≤1 秒（Redis 缓存命中时），分享关卡加载时间≤2 秒。
5.1.2 响应时间
操作类型	响应时间要求	测试场景（环境：服务器 CPU 使用率≤50%，网络延迟≤50ms）
图块拖拽吸附	≤100ms	拖动图块到正确位置，吸附响应时间≤100ms
对战状态同步	≤500ms	一方完成图块放置后，另一方界面同步显示进度的时间≤500ms
按钮点击（登录 / 开始游戏）	≤200ms	点击按钮到界面跳转 / 状态变化的时间≤200ms
AI 图片生成	≤10 秒	输入提示词后，生成图片并显示预览的时间≤10 秒
5.1.3 稳定性要求
无故障运行时间：服务器无故障运行时间≥99.5%（每月故障时间≤3.6 小时）；
错误恢复能力：若对战过程中一方网络中断，重新连接后可恢复当前对战进度（断点续连）；若服务器重启，用户存档数据无丢失（MySQL 数据定期备份，每日 1 次全量备份）。
5.2 安全性需求
5.2.1 数据传输安全
加密协议：所有前后端数据传输采用 HTTPS 协议，敏感数据（如密码、token）额外采用 DES 加密算法，确保数据被截获后无法解密；
接口防护：后端接口添加防 SQL 注入（使用参数化查询）、防 XSS 攻击（输入过滤、输出编码）、防 CSRF 攻击（token 验证）措施，避免恶意请求。
5.2.2 用户认证安全
密码安全：用户密码采用 “MD5 + 盐值” 加密存储（盐值随机生成，每个用户不同），不存储明文密码；
账号保护：连续 3 次登录密码错误，账号锁定 10 分钟；异地登录（不同设备 / IP）时，提示用户 “检测到异常登录，是否继续”，增强账号安全性。
5.2.3 内容安全
图片审核：用户上传图片需进行格式校验（仅允许 JPG/PNG）、大小限制（≤5MB），后期可扩展图片内容审核（如禁止上传违规图片）；
AI 生成内容审核：AI 生成图片需过滤违规内容（如暴力、色情），确保生成的像素风图片符合校园文化规范。
5.3 可用性需求
5.3.1 易用性
操作学习成本：新用户首次使用，通过 “帮助中心”（操作指南弹窗）可在 5 分钟内掌握核心操作（拖拽、旋转、存档）；
界面引导：关键操作（如 AI 生成图片、创建对战房间）有文字提示（如 “输入像素风提示词，如‘像素风校园’”），减少用户操作困惑。
5.3.2 可访问性
兼容性：支持键盘操作（如方向键移动选中的图块，Enter 键旋转图块），方便无鼠标用户或残障用户使用；
错误提示：所有错误提示需明确原因及解决方案（如 “房间不存在，请检查房间号是否正确”），避免 “操作失败” 等模糊提示。
5.3.3 可维护性
日志记录：服务器记录关键操作日志（用户注册、登录、对战结果）、错误日志（接口请求失败、数据库连接异常），日志保存时间≥30 天，便于问题排查；
需求可扩展：系统架构预留扩展接口（如后期新增实时协作模式、更多图片风格），避免大规模重构。
